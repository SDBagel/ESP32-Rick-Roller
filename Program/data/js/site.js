var startTime,scrolledDown=0;function animateCSS(t,e,n,a){const o=document.querySelector(t);o.classList.add("animated",e),o.addEventListener("animationend",function t(){n||o.classList.remove("animated",e),o.removeEventListener("animationend",t),"function"==typeof a&&a()})}var flavorTexts=["Activating your connection","Contacting welcoming party"];function cycleFlavorText(t,e,n,a){const o=document.querySelector(t);var i=0,c=setInterval(function(){animateCSS(t,"fadeOutDown",!1,function(){o.innerHTML=flavorTexts[i-1],animateCSS(t,"fadeInDown",!0,"")}),i+=1},e+1e3);setTimeout(function(){clearInterval(c),"function"==typeof a&&a()},(n+1)*(e+1e3))}function loadStatistics(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);document.getElementById("visitors").innerHTML=t.v,document.getElementById("avgtime").innerHTML=t.s+" seconds",document.getElementById("viewed").innerHTML=t.i}},t.open("GET","persistent.txt",!0),t.send()}function logData(){var t=new FormData,e=new Date;t.set("s",Math.round((e-startTime)/1e3)),t.set("v",scrolledDown),navigator.sendBeacon("/addvisit",t)}document.addEventListener("DOMContentLoaded",function(t){animateCSS(".loading","fadeIn",!0,setTimeout(function(){animateCSS("#loading-text","fadeIn",!0,function(){cycleFlavorText("#loading-text",1500,flavorTexts.length,function(){animateCSS(".loading","fadeOut",!0,function(){animateCSS("#rick","fadeIn",!0,null),setTimeout(function(){animateCSS("#message","fadeIn",!0,null),animateCSS("#notification","fadeInUp",!0,null),document.getElementById("contentBlock").style.display="block",animateCSS("#contentBlock","fadeIn",!0,null)},1e3)})})})},1e3)),loadStatistics(),startTime=new Date}),window.addEventListener("scroll",function(){var t=document.getElementById("contentBlock");document.body.scrollTop>t.getBoundingClientRect().top&&(scrolledDown=1)}),window.addEventListener("unload",logData,!1);
